BdactyloidesthruGSEA081615.txt

08/16/15:
# switching from 
/Users/bterry/macbookpro2015/keenanres15/Sitalica26/Sitalica_041515.txt

# To do: working from nprot.2013.084.pdf, apply Trinity to RNAseq single end 95C1-3, T1-3.

# p-1503 of nprot.2013.084.pdf, do run on ***example data set provided***.
# s/w setup (p-1503), path to s/w setup on Crane ???????

# SEE 1st current notes (p-1503)
# Q: will my **single end** RNAseq samples be a problem ????????????




# setting up R & packages ???????

# PROCEDURE:

# 

Trinity version trinityrnaseq_r2013-02-25: http://trinityrnaseq.sourceforge.net
# looks like newer versions available ????????????????????
# v2.0.6 at
https://github.com/trinityrnaseq/trinityrnaseq/releases
# looks like only source code available (tar.gz)
# looks like I could use .gz or .zip ?????????
# why not .tgz rather than .gz ???????????????????????????
# so dnload trinityrnaseq-2.0.6.tar.gz (151 MB)
cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing
tar –xzvf trinityrnaseq-2.0.6.tar.gz
# Same message as below, and won't work.
# tried wi Mac uncompress utility, appears to work, so why not 'tar' ?????????????
# Q: directions to install Trinity, etc. ????????????????


# Dnloading TrinityNatureProtocolTutorial.tgz
# p-1504
# mine only 474 Mb ??????????????????

# Name ‘TrinityNatureProtocolTutorial.tgz’
# Why this, already this name ??????????
tar –xvf TrinityNatureProtocolTutorial.tgz
# nothing happened, so must not be correct, so try as per p-131, B. McCarty book ??????????????
tar –xzvf TrinityNatureProtocolTutorial.tgz
# nothing happened here either, perhaps the 474 Mb file is corrupt ???????
# try rednload, try 
wget http://sourceforge.net/projects/trinityrnaseq/files/misc/TrinityNatureProtocolTutorial.tgz/download
# Started 9:45pm => 10:54pm end.
# -rw-r--r--   1 bterry  staff  474015394 Feb  9  2013 download
# still **not** 540 Mb ???????????????????????
# title is 'download', so perhaps why need for name change.
mv download TrinityNatureProtocolTutorial.tgz
tar –xvf TrinityNatureProtocolTutorial.tgz
philip-terry:trintoGSEA bterry$ tar –xvf TrinityNatureProtocolTutorial.tgz
Usage:
  List:    tar -tf <archive-filename>
  Extract: tar -xf <archive-filename>
  Create:  tar -cf <archive-filename> [filenames...]
  Help:    tar --help
philip-terry:trintoGSEA bterry$ 
# why failed ???????????????????????????
# try:
tar –xzvf TrinityNatureProtocolTutorial.tgz
# Q: same output, WHAT WRONG ????????????????????????????
# tried Mac uncompress facility, appears to have worked. I note: looks like different files than shows, p-1504, perhaps just a different data set ??????



08/18/15:
# Issue: need claim whatever files on tusker want (certainly trimmed 95C1-3,T1-3)
(1)
# created globus acct:
# uname: pterry
# email: pterry@...
# pword: glo15-Tran
(2)
# activate HCC endpoints
# figured out way for hcc#tusker, but ***not*** like directions off one of the links from hcc-docs, 'handling data, 'globus connect' link, ...

08/19/15:
# Q: what to do with files in 
/home/amundsen/pterry
# Q: says not mounted, but can cd to 'scripts dir', perhaps can get files ??????

# For $WORK dir,
Disk usage for user pterry:
  Home [0.7% (0/10GB)               ]  Work [0.5% (280/51200GB)          ]
Disk usage for primary group amundsen:
  Home [0.3% (2/500GB)              ]  Work [18.7% (9587/51200GB)        ]
Disk usage for entire system:
  Home [5.8% (590/10240GB)          ]  Work [83.2% (445355/535321GB)     ]
above output generated by 'hcc-du' command, type 'hcc-du -h' for more options
[pterry@login.tusker ~]$ $WORK
-bash: /work/amundsen/pterry: is a directory
[pterry@login.tusker ~]$ cd $WORK
[pterry@login.tusker pterry]$ pwd
/work/amundsen/pterry
[pterry@login.tusker pterry]$ ls -al
total 550852
drwx--x--- 13 pterry amundsen      4096 Jun 11 22:39 .
drwxr-x--x 10 root   amundsen      4096 Mar 16 13:53 ..
drwxr-xr-x  4 pterry amundsen      4096 Jun 11 23:06 198168_txtome
drwxr-xr-x  2 pterry amundsen      4096 Aug  8  2014 blastngen
drwxr-xr-x 12 pterry amundsen      4096 Jun 17  2014 brachy_dis
drwxr-xr-x  4 pterry amundsen      4096 Dec 10  2013 nprot
drwxr-xr-x  2 pterry amundsen      4096 Dec 11  2012 parallel
-rwxr-xr-x  1 pterry amundsen      2839 Jun 19  2014 ParseFastQ.py
-rw-r--r--  1 pterry amundsen      2746 Jun 19  2014 ParseFastQ.pyc
-rwxr-xr-x  1 pterry amundsen       275 Jun 19  2014 parse.py
drwxr-xr-x  7 pterry amundsen      4096 Aug 16  2014 Sitalica
drwxr-xr-x  5 pterry amundsen      4096 May 19 21:23 Sitalica26
-rw-r--r--  1 pterry amundsen 564002816 Dec  6  2013 SRR031712.fastq
drwxr-xr-x  6 pterry amundsen      4096 Mar 15 10:44 stat932
drwxr-xr-x  3 pterry amundsen      4096 Jan 17  2014 tgirke
drwxr-xr-x  2 pterry amundsen      4096 May 27  2013 velvet
drwxr-xr-x 10 pterry amundsen      4096 Sep 18  2013 velvet5
[pterry@login.tusker pterry]$ logout
Connection to tusker.unl.edu closed.
philip-terry:planets bterry$ ssh -Y pterry@tusker.unl.edu

***THE /WORK FILESYSTEM IS MOUNTED READ-ONLY, AND WILL ONLY BE MOUNTED***
***READ-ONLY BEFORE WE WIPE IT CLEAN. PLEASE SAVE IMPORTANT DATA TO***
***ANOTHER LOCATION ASAP!!!***

# so dirs to try to get with globus:
# Having enough trouble 'activating' endpoints, but finally have.
# So transfer 11 dirs, start ~ 10:30am
# appears to be going so rapidly, perhaps setup 'File transfers to/from **personal wrkstations**. (perhaps for scripts dir on tusker to my macbookpro laptop.
# TO DO: check what have on crane after transfer ?????????
ssh -Y pterry@crane.unl.edu
# Rrq096mN
# checked 
[pterry@login.crane Sitalica26]$ pwd
/work/amundsen/pterry/Sitalica26
[pterry@login.crane Sitalica26]$ ls -al
total 20
drwxr-xr-x  5 pterry amundsen 4096 Aug 19 10:33 .
drwx--x--- 13 pterry amundsen 4096 Aug 19 10:50 ..
drwxr-xr-x  3 pterry amundsen 4096 Aug 19 10:39 bowtie22IND
drwxr-xr-x  6 pterry amundsen 4096 Aug 19 10:42 bufgrass
drwxr-xr-x  2 pterry amundsen 4096 Aug 19 10:43 genome
[pterry@login.crane Sitalica26]$ 
# looked inside bufgrass, looks ok.

# TO DO: perhaps setup 'File transfers to/from **personal wrkstations**. (perhaps for scripts dir on tusker to my macbookpro laptop.


# resume try run example data thru trinity, from github tutorial site, 
http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html

# To start, assume Trinity v2.0.? installed on hcc#crane appropriately (???), just try start using there.
p-1
Procedure
Collection of RNA-Seq data Timing: ~10 minutes===

ssh -Y pterry@crane.unl.edu
# Rrq096mN
# srun --pty --ntasks-per-node=8 --mem 10gb $SHELL    # 1:23pm => I cancelled, 1:48pm, no resource allocation.
# so just try 'my prev. $SHELL command'
srun --pty $SHELL   # prompt back almost instantly, 10:23pm
# perhaps exit, try prev failed 'srun', see if quicker at night?
exit
srun --pty --ntasks-per-node=8 --mem 10gb $SHELL  # prompt back immedly
cd /work/amundsen/pterry
1.
wget http://sourceforge.net/projects/trinityrnaseq/files/misc/TrinityNatureProtocolTutorial.tgz/download
# started 10:27pm => 11:00pm
# I note dnload speed in K/s, 160-450 range
exit
2.
cd /work/amundsen/pterry
mv download TrinityNatureProtocolTutorial.tgz
3.
srun --pty --ntasks-per-node=8 --mem 10gb $SHELL
tar –xzvf TrinityNatureProtocolTutorial.tgz
# note: could append dir to uncompress to (-C dir. path)
[pterry@c1422.crane pterry]$ tar –xzvf TrinityNatureProtocolTutorial.tgz
tar: invalid option -- '?'
Try `tar --help' or `tar --usage' for more information.
[pterry@c1422.crane pterry]$ 
# what to think ???????????????????????????
# try (perhaps file not compressed ????????????????????)
tar –xvf TrinityNatureProtocolTutorial.tgz
[pterry@c1422.crane pterry]$ tar –xvf TrinityNatureProtocolTutorial.tgz
tar: invalid option -- '?'
Try `tar --help' or `tar --usage' for more information.
[pterry@c1422.crane pterry]$ 
# also failed ????????????????????????????????????????????
# hand typed in command, worked.

08/21/15:
4.
mv TrinityNatureProtocolTutorial Trin20Tut
#mkdir Bdac_Trin20_workg
#cd Bdac_Trin20_workg
cd Trin20Tut
5.
# concatenate ...
cat 1M_READS_sample/*.left.fq > reads.ALL.left.fq
cat 1M_READS_sample/*.right.fq > reads.ALL.right.fq
6.
# Assemble with Trinity
export TRINITY_HOME=/util/opt/trinity/2.0.6/gcc/4.8.2
echo $TRINITY_HOME
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0
# Q: is this consistent with v 2.0.6 ???????????????????????
$TRINITY_HOME/Trinity --seqType fq --JM 10G \
    --left reads.ALL.left.fq --right reads.ALL.right.fq \
    --SS_lib_type RF --CPU 6

[pterry@c2218.crane Trin20Tut]$ $TRINITY_HOME/Trinity --seqType fq --JM 10G \
>     --left reads.ALL.left.fq --right reads.ALL.right.fq \
>     --SS_lib_type RF --CPU 6
Error, do not understand options: --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
[pterry@c2218.crane Trin20Tut]$ Trinity -h
# gave bunch details, upshot may be may have to contact support site, for syntax for parameters in error message ??????????????????????
# To try **1st**, manually enter the Trinity command 

$TRINITY_HOME/Trinity.pl --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6

[pterry@c0918.crane Trin20Tut]$ $TRINITY_HOME/Trinity.pl --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
bash: /util/opt/trinity/2.0/gcc/4.8/Trinity.pl: No such file or directory
[pterry@c0918.crane Trin20Tut]$ 
# perhaps issue is location/definition of $TRINITY_HOME ???????????????????
# Don't find Trinity.pl in /util/opt/trinity/2.0/gcc/4.8
# there is a 'Trinity'
# so try 

$TRINITY_HOME/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6

[pterry@c0509.crane Trin20Tut]$ $TRINITY_HOME/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
bash: /util/opt/trinity/2.0/gcc/4.8:/util/opt/trinity/2.0.6/gcc/4.8.2/Trinity: No such file or directory
[pterry@c0509.crane Trin20Tut]$ 
# Q: confusing ?????????????????????????????????????????????????
/util/opt/trinity/2.0/gcc/4.8
/util/opt/trinity/2.0.6/gcc/4.8.2/Trinity
# Q: perhaps just use /util/opt/trinity/2.0.6/gcc/4.8.2/Trinity for Trinity location ??????????????????????
/util/opt/trinity/2.0.6/gcc/4.8.2/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6

[pterry@c0509.crane Trin20Tut]$ /util/opt/trinity/2.0.6/gcc/4.8.2/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
Error, do not understand options: --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
# Q: what to think ?????????????????????????
# Q: are there multiple installs on trinity on crane, confusion from ??????


[pterry@c0918.crane Trin20Tut]$ $TRINITY_HOME/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
Error, do not understand options: --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
[pterry@c0918.crane Trin20Tut]$ 
Trinity -h

cd /util/opt/trinity/2.0.6/gcc/4.8.2
[pterry@c0918.crane 4.8.2]$ pwd
/util/opt/trinity/2.0.6/gcc/4.8.2
# a 'Trinity' here.
# How to proceed? 
echo $TRINITY_HOME

[pterry@c0918.crane 4.8.2]$ echo $TRINITY_HOME
/util/opt/trinity/2.0/gcc/4.8

# not for 2.0.6 ???????????????????
cd sample_data/test_Trinity_Assembly

STOPPED

08/23/15:
# Rewriting & testing:
ssh -Y pterry@crane.unl.edu
# Rrq096mN
srun --pty --ntasks-per-node=8 --mem 10gb $SHELL  # prompt back immedly
cd /work/amundsen/pterry
cd Trin20Tut
# export TRINITY_HOME=/util/opt/trinity/2.0.6/gcc/4.8.2
# Q: is this appropriate, or should specify ***SOMETHING ELSE*** ????????
# LIKE /util/opt/trinity/2.0/gcc/4.8  ?????????????????????
export TRINITY_HOME=/util/opt/trinity/2.0/gcc/4.8

echo $TRINITY_HOME
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
echo $PATH
module load trinity/2.0
# module load trinity/2.0.6
echo $PATH
# module load trinity/2.0 perhaps not hitting '2.0.6' ????????????????
# but /util/opt/trinity/2.0/gcc/4.8   ?????????????????????
echo $PATH
# LOOKS LIKE hitting different version of Trinity (NOT 2.0.6), need different 'module load trinity/2.0' command ????????????*************????????????????
# BUT **soft link** 2.0 -> 2.0.6 ????????????????????????




$TRINITY_HOME/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6

# OR

/util/opt/trinity/2.0.6/gcc/4.8.2/Trinity --seqType fq --JM 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6

# or 

$TRINITY_HOME/Trinity --seqType fq --max_memory 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6

# OR

/util/opt/trinity/2.0.6/gcc/4.8.2/Trinity --seqType fq --max_memory 10G --left reads.ALL.left.fq --right reads.ALL.right.fq --SS_lib_type RF --CPU 6
# 3:36pm -> THIS ONE STARTED RUNNING ???????????******????????????
# WHY ????????????????

# go back check what created in 'Trin20Tut' dir.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry
cd Trin20Tut
ls -al
cd trinity_out_dir
ls -al
# whole bunch new dir's in this new dir.
# Q: Don't see any error messages, but apparently terminated early ??????????
# Q: 2 questions:
# 1) why particular trinity command ran ????????????????
# 2) why did it terminate early, if did, what to do about that ?????????????

08/24/15:
Talked to Adam (HCC)

i. Check if run from 08/23/15 may have finished, but my terminal session perhaps lost contact, did not reflect such.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry
cd Trin20Tut
ls -al
cd trinity_out_dir
ls -al
# Looks like no Trinity.fasta in trinity_out_dir dir. as expected in step 7 of 
http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html when step 6 finishes.
ii. Try resume 08/23/15 trinity run on Crane. But do with SLURM batch file. So will need create scripts dir in /home/amundsen/pterry on Crane.
mkdir scripts

08/25/15:
# so try 1st to run trinity without erasing directories created in trinity_out_dir dir. in /work/amundsen/pterry/Trin20Tut from 08/23/15 run which apparently did not complete (no Trinity.fasta file produced), Adam says crane may resume where it left off?
# /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/tut/slurm_trinityexampledatacrane.sh
# Adam, don't export to TRINITY_HOME, says Crane will/may do this itself?

# now go back look how I scp'd slurm script to cluster, ran slurm script, checked on it afterwords
# start at line 418, 962, Sitalica041515.txt
cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/tut
## TO fix script file, done
scp slurm_trinityexampledatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_trinityexampledatacrane.sh  1971803 11:36pm => 12:14am, no longer listed in squeue -u pterry
squeue -u pterry

cd /work/amundsen/pterry/Trin20Tut
ls -l
less job.1971803.err  # 0 bytes
less job.1971803.out  # 1730956
cd trinity_out_dir
# look for Trinity.fasta File
-rw-r--r-- 1 pterry amundsen   11073091 Aug 26 00:04 Trinity.fasta
less Trinity.fasta
>TR1|c0_g1_i1 len=745 path=[723:0-744] [-1, 723, -2]
TAAAAGTATGTTTGTCCTCTAACACTCGTGGAAAAGAATTCCAAAATTGAGAAATTCTTC
TTTTTTTGGTAGCAATTGATGCTAAAATTTAATAATTTTACTTTAATTTCGTTAATTTTT
TCTCAACTAAGAAATTTCTAAGCTGAGCGTCATTTCGGTGAACTTTTATTATTTTCTATT
GAAAAAACATTACAATAGATAAAAAATAAGAAGACTGCATGATTAGAAGATTTTTTCACA
CAATGGGAAGGCAGGATCGTATTTATAAAACGCTTTCAGAAGCCTTGAAAACAGACAAGA
TTACCTTGTATAATGATAGTTATAAACATAGCCATCATATTGCGATGAAAGGCGTACCAG
ACACAAATGAGACTCATTTCCGTTTAGAAATTGTATCACCAGAGTTCTCCGGGATGTCAA
GAGTCGCCCGACATCGACTTGTTTATGGATTACTAAAAGATGAATTTGATGGCGGCCTTC
ATGCTCTCCAAATAACTTCTAGCAAGACTCCTGATGAAGTTTCGTAATTTTCGAAAAGTA
TTCAGGTATATTATTACATTTTTACATTTAGACAATTACATGACAGATTGAATGTGCTTG
CTCGATTGTTTTGTTGCACTTTGTTCGCATGCTTAAATATGAAATACTGCGAAGTGAAAA
GAATTTCACACATATTACAAAAAGGGTGAAACCAAAATAAATCTTATTTTGAGTTGATTC
ACGGCTTAATCAGCGATTATTTACT
>TR2|c0_g1_i1 len=750 path=[728:0-749] [-1, 728, -2]
AAGCTGATTATATTGACTTTACTTACCGAATGATTTAATATATTCCTTTACTATTAATTC
TAAAAAAACCCAGACTTACAACCTAGTCGTTAAATTGTAGGAACCGACTACAACTTCGAC
AGCTGTTTCAAAGCATTTGAAAAACTTACAAAGTGTTTAAGATTGAATCTTTTTTTTAAC
CTGTACTATATTTTTCTCTTGTAATTAGCTCTATTTTCCTTTTCACTATGCCATTTTTGA
AACCTTCAAAGGTTTCACTTAAACGAATTCTCCAAGGAAATCCACCCAAACCAATTGGCT
TAACTGAGTATGGTCATTTGCTGAGGCTCGTTGGTCTTCGTGAAGCAGACTCTAAGGAAG
AGAATGAAAGAACAATTCTAAAACTCAACGAAGGAATCATTCAAATGCATGCAATTGAGA
GACTTGATACATCCTTCATTAAGGAACCATTTCGTACTTTGAATCATGCTATTAATGCGG
...
>TR5742|c0_g2_i1 len=965 path=[1103:0-198 1104:199-219 1105:220-964] [-1, 1103, 1104, 1105, -2]
Trinity.fasta
# apparently 5742 reconstructed transcripts found/assembled in Trinity.fasta
file, Q: is this reasonable ??????????

sacct -j 1971803 -o start,end
[pterry@login.crane trinity_out_dir]$ sacct -j 1971803 -o start,end
              Start                 End 
------------------- ------------------- 
2015-08-25T23:36:03 2015-08-26T00:04:16 
2015-08-25T23:36:03 2015-08-26T00:04:16 
[pterry@login.crane trinity_out_dir]$ 

# perhaps run from scratch again ???????????????
# or proceed to step 7 ???????

08/26/15:
# or proceed to step 7, http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html
7.
# 'examine the stats' ...
$TRINITY_HOME/util/TrinityStats.pl trinity_out_dir/Trinity.fasta
# Q: perhaps run from /work/amundsen/pterry/Trin20Tut, yes cause trinity_out_dir dir inside ?????????
# So, create a SLURM script to run TrinityStats.pl
cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/tut
## TO fix script file, done
scp slurm_7TrinityStatsexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/

ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_7TrinityStatsexampdatacrane.sh  1972265 11:55am => 11:56am, no longer listed in squeue -u pterry
squeue -u pterry

cd /work/amundsen/pterry/Trin20Tut
ls -l
less job.1972265.err  # 0 bytes
less job.1972265.out  # 818 bytes
################################
## Counts of transcripts, etc.
################################
Total trinity 'genes':  9346
Total trinity transcripts:      9537
Percent GC: 38.14

########################################
Stats based on ALL transcript contigs:
########################################

        Contig N10: 3125
        Contig N20: 2544
        Contig N30: 2159
        Contig N40: 1856
        Contig N50: 1603

        Median contig length: 812
        Average contig: 1070.19
        Total assembled bases: 10206444

job.1972265.out 
# Q: 5742 records in Trinity.fasta file, any comment relating this number to these stats from TrinityStats.pl file ?????????????????

# now, steps 8-13, http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html
# Quality assessment, optional, but recomended.
# For learning purposes, run each step in its own slurm script
9. Prepare the reference transcriptome fasta file as a BLAST database:
# So, create a SLURM script to run TrinityStats.pl
cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/tut
## TO fix script file, done
scp slurm_8Trinitymakeblastdbexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_8Trinitymakeblastdbexampdatacrane.sh  1972371 1:18pm => 11:56am, no longer listed in squeue -u pterry
squeue -u pterry
# initially, got a 'PD' status

cd /work/amundsen/pterry/Trin20Tut
ls -l
less job.1972371.err  # 0 bytes
/var/spool/slurmd/job1972371/slurm_script: line 17: makeblastdb: command not found
job.1972371.err (END) 
# Q: can't find makeblastdb ???????????????????????????????
# perhaps, need module blast ??????????????????
STOPPED
modules avail
module spider blast

less job.1972371.out  # 0 bytes

# retry slurm with 
module load blast/2.2.9
# added to slurm file.
cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/tut
## TO fix script file, done
scp slurm_8Trinitymakeblastdbexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_8Trinitymakeblastdbexampdatacrane.sh 1972627 2:53pm => 3:03pm, no longer listed in squeue -u pterry
squeue -u pterry
cd /work/amundsen/pterry/Trin20Tut
ls -l
less job.1972627.out  # 0 bytes
less job.1972627.out  # 290 bytes
Building a new DB, current time: 08/26/2015 14:54:45
New DB name:   S_pombe_refTrans.fasta
New DB title:  S_pombe_refTrans.fasta
Sequence type: Nucleotide
Keep Linkouts: T
Keep MBits: T
Maximum file size: 1000000000B
Adding sequences from FASTA; added 5163 sequences in 0.619704 seconds.
job.1972627.out (END) 
# new .nhr, .nin, .nsq files in /work/amundsen/pterry/Trin20Tut dir.

10. Run megablast to align the known transcripts to the Trinity assembly:
# create slurm file to accomplish
scp slurm_10Trinityblastnexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_10Trinityblastnexampdatacrane.sh 1972739 3:47pm => 3:55pm, no longer listed in squeue -u pterry
cd /work/amundsen/pterry/Trin20Tut
ls -l
job.1972739.err  # 0 bytes
job.1972739.out  # 0 bytes
less Trinity_vs_S_pombe_refTrans.blastn
TR1|c0_g1_i1    SPBC16E9.06c_T0 100.00  309     0       0       219     527     1       309     4e-163    571
TR2|c0_g1_i1    SPCC777.11_T0   100.00  387     0       0       228     614     1       387     0.0       715
TR3|c0_g1_i1    SPAC1556.01c_T0 100.00  298     0       0       1       298     3406    3109    2e-157    551
...
TR5742|c0_g2_i1 SPAC22H10.02_T0 100.00  417     0       0       53      469     1       417     0.0       771
(END) 
Trinity_vs_S_pombe_refTrans.blastn 
# Q: which colm is e value, looks like perhaps colm 11 ???????????????????????

11.  Once megablast has completed, run the script below to examine the length coverage of top database hits: 
# create slurm file to accomplish
scp slurm_11Trinitylengcovexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_11Trinitylengcovexampdatacrane.sh 1973257 10:27pm => 10:27pm, no longer listed in squeue -u pterry
squeue -u pterry
cd /work/amundsen/pterry/Trin20Tut
ls -l
job.1973257.err  # 0 bytes  # when changed 'blastn' file name
Error, cannot open file Trinity_vs_S_pombe_genes.blastn at /util/opt/trinity/2.0/gcc/4.8/util/analyze_blastPlus_topHit_coverage.pl line 49.
job.1973226.err (END) 
# perhaps Trinity_vs_S_pombe_genes.blastn from http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html is a typo, perhaps should be Trinity_vs_S_pombe_refTrans.blastn
# anyway try it, fix slurm file, retry
job.1973257.out
#hit_pct_cov_bin        count_in_bin    >bin_below
100     3398    3398
90      193     3591
80      160     3751
70      202     3953
60      217     4170
50      200     4370
40      159     4529
30      144     4673
20      76      4749
10      15      4764
job.1973257.out (END) 
# Q: how understand this output ???????????????????????????

12.  Examine the number of input RNA-Seq reads that are well represented by the transcriptome assembly. Trinity provides a script ‘alignReads.pl’ that executes Bowtie to align the left and right fragment reads separately to the Trinity contigs and then groups the reads together into pairs while retaining those single read alignments that are not found to be properly paired with their mate. Run ‘alignReads.pl’ by:

# create slurm file to accomplish
scp slurm_12Trinityexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_12Trinityexampdatacrane.sh 1973323 11:39pm => 10:27pm, no longer listed in squeue -u pterry
squeue -u pterry
cd /work/amundsen/pterry/Trin20Tut
ls -al
job.1973323.err  # 128 bytes
/var/spool/slurmd/job1973323/slurm_script: line 18: /util/opt/trinity/2.0/gcc/4.8/util/alignReads.pl: No such file or directory
job.1973323.err (END) 
# Note: don't find file alignReads.pl in dir /util/opt/trinity/2.0/gcc/4.8.2/util
# as step 12 is expecting ????????????????????????????????????????????
job.1973323.out  # 0 bytes

13.
# Looks like file to run this step is available, but need step 12 to work 1st ????????????????????????????????????????????????

Abundance estimation using RSEM
14. Don't follow ?????????????????????????????????????????????
15-18.

08/27/15:
15.
# Don't see 'RSEM_util dir containing run_RSEM_align_n_estimate.pl ????????
# guess, could set up a slurm for say step 15, verify if can locate this file or not.
scp slurm_15Trinityexampdatacrane.sh pterry@crane.unl.edu:/home/amundsen/pterry/scripts/
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /home/amundsen/pterry/scripts
ls -al
sbatch slurm_15Trinityexampdatacrane.sh 1974828  11:55pm => 10:27pm, no longer listed in squeue -u pterry
squeue -u pterry
cd /work/amundsen/pterry/Trin20Tut
ls -al
less job.1974828.err # 153 bytes
/var/spool/slurmd/job1974828/slurm_script: line 17: /util/opt/trinity/2.0/gcc/4.8/util/RSEM_util/run_RSEM_align_n_estimate.pl: No such file or directory
job.1974828.err (END) 
# as anticipated, could not find this file.
# looks like I **send message to support site** concerning missing files for steps 15, 12. ??????????????????????????????
# so currently, can't run 12, 13, 15 - 18, 19 to end without 15 & 12.

19.
# using RSEM output, so RSEM needs to work to do this step ???????????????
#######################################################################
08/29/15: see 08/29/15 in /Users/bterry/githubstuf/githubcomments.txt

# practice update, testing git/github procedure from pro.

# practice update, testing git/github procedure from macbook.
# bit more edit.
########################################################################

09/02/15:
# last night, submitted Q: trinityrnaseq-2.0.6.tar.gz lacks some of the '.pl' files present in earlier versions? Submitted to 
https://groups.google.com/forum/#!forum/trinityrnaseq-users

# *******Response*******:
Hi Pterry
You can find the newer version at:
$TRINITY_HOME/util/align_and_estimate_abundance.pl

This should do the same thing. The instructions are at:
http://trinityrnaseq.github.io/analysis/abundance_estimation.html

Thanks, Mark

# So, Some changes from http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html

# so now, need digest new info in these instructions, proceed. I note, looks like edgeR not part of this new site,
http://trinityrnaseq.github.io/analysis/abundance_estimation.html

# one possible approach, rather than step 12 from 
http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html
# go to new tutorial, 'Example usage', and follow rec. there. That is, 

It is useful to first run align_and_estimate_abundance.pl to only prep your reference database for alignment, using --prep_reference, and then subsequently running it on each of your sets of reads in parallel to obtain sample-specific abundance estimates.

# so this the 1st two example commands there.

## Just prepare the reference for alignment and abundance estimation
#
#    ./align_and_estimate_abundance.pl --transcripts Trinity.fasta --est_method RSEM --aln_method bowtie --trinity_mode --prep_reference


# Q: Is this starting with Trinity.fasta and S_pombe_refTrans.fasta ??????? Perhaps no 'blastn' like in 9, 10 of 
# So to run this, perhaps pattern as in step 11 from http://trinityrnaseq.github.io/trinity_rnaseq_tutorial.html  ????????????
# Q: but how knows about the ref, S_pombe_refTrans.fasta, no argument for '--prep_reference'   ??????????????

# perhaps write slurm to do, see if runs, 
# ck prev slurm for needed modules ???????????

cd /work/amundsen/pterry/Trin20Tut

$TRINITY_HOME/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --est_method RSEM --aln_method bowtie --trinity_mode 

09/06/15:
# but wait, start again with:

STOPPED

http://trinityrnaseq.github.io/index.html

09/07/15:
# perhaps 1st, try run 'runMe.sh', get better understanding of Trinity system ??????????
# then, try run some of the 'Downstream analyses' alternatives ???????
-- RSEM, eXpress & IGV
--edgeR, ...,   clarify 'note' before toc, biol'l reps, independently  ??????????????????, looks like run RESM before this (generating exp'n values matrices) ?????????
--Transdecoder ???
--Trinotate ????
--full length ...  ???????????

git add BdactyloidesthruGSEA081615.txt
git commit -m "update 09/07/15 BdactyloidesthruGSEA081615.txt from pro"
git push origin master
git remote -v

09/08/15:
cd ~/planets
git pull origin master

# from pro laptop, looking at trinityrnaseq-2.0.6.tar.gz expansion on pro laptop, run runMeminuseXpress.sh from following dir on crane: /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/trinityrnaseq-2.0.6/sample_data/test_Trinity_Assembly
# initially here, run from 'shell'.
# place slurm scripts in 'testing' dir in this path.
# 
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/trinity_out_dir
mv Trinity.fasta Trinity.fasta_pre090815
# @: how find test_Trinity_Assembly dir on crane, Found
cd /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly
srun --pty $SHELL
runMe.sh
./runMe.sh
# Q: what happened/or didn't ??????????????????????

09/09/15:
# What to try? 
# in runMe.sh script, trinity command using 'fq.gz' files, so why need gunzip commands preceding ????????????????
# Q: question where new Trinity.fasta will appear, if just run the trinity command directly ??????????????
# since in /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly, in crane installation dir, would like to proceed if do, without messing up the installation (ck Adam ???????????????????????????)
# --output <string>, so could direct output, 
# note: it says, must include 'trinity' in the name as a safety precaution!
# so, if after adam, ok to try, then say output to /work/amundsen/pterry/Trin20Tut/trinity_out_dir  ?????????????

09/10/15:
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly
srun --pty $SHELL
# srun --pty --ntasks-per-node=4 --mem 10gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0


#######################################################
##  Run Trinity to Generate Transcriptome Assemblies ##
#######################################################
../../Trinity --seqType fq --max_memory 2G --left reads.left.fq.gz,reads2.left.fq.gz --right reads.right.fq.gz,reads2.right.fq.gz --SS_lib_type RF --output /work/amundsen/pterry/Trin20Tut/trinity_out_dir/Trinity091015.fasta --CPU 4
# FAILS, still trying to write to /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly, which is read only.
# so fix as per my handwritten steps, try again.

09/11/15:
# 1. Give full path to trinity pgm when run
# 2. remove '--output' parameter from trinity run command
# 3. copy /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly dir. to /work/amundsen/pterry/Trin20Tut dir.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
srun --pty $SHELL
cd /work/amundsen/pterry/Trin20Tut
cp -r /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly .

[pterry@c1523.crane Trin20Tut]$ cp /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly .
cp: omitting directory `/util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly'
[pterry@c1523.crane Trin20Tut]$ 
# Q: why failed ????????????????????????????

philip-terry:test091115 bterry$ cp -r /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing/trinityrnaseq-2.0.6/sample_data/test_Trinity_Assembly .
philip-terry:test091115 bterry$ 
philip-terry:test091115 bterry$ ls -al
total 0
drwxr-xr-x   3 bterry  staff  102 Sep 11 12:40 .
drwxr-xr-x  14 bterry  staff  476 Sep 11 11:59 ..
drwxr-xr-x@ 15 bterry  staff  510 Sep 11 12:40 test_Trinity_Assembly
philip-terry:test091115 bterry$ 
# so worked on test on 'pro'
# ready to try on 'crane'


ssh -Y pterry@crane.unl.edu
# Rrq096mN
srun --pty $SHELL
cd /work/amundsen/pterry/Trin20Tut
cp -r /util/opt/trinity/2.0/gcc/4.8/sample_data/test_Trinity_Assembly .
ls -al
exit
# appears worked ok.
# cd /util/opt/trinity/2.0/gcc/4.8  ## has trinity executable 
srun --pty $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

# 4. cd to /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly, run trinity command from this dir.
cd /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly
/util/opt/trinity/2.0/gcc/4.8/Trinity --seqType fq --max_memory 2G --left reads.left.fq.gz,reads2.left.fq.gz --right reads.right.fq.gz,reads2.right.fq.gz --SS_lib_type RF --CPU 4
# error, checked Adam, HCC, thinks need allow more than 1G ram available with std call to SHELL, so retry as follows:

ssh -Y pterry@crane.unl.edu
# Rrq096mN
# check dir, if need clean up qqch before rerun
cd /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly
ls -al
rm -rf trinity_out_dir
rm *.fq
rm *.readcount
ls -al
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0
cd /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly
/util/opt/trinity/2.0/gcc/4.8/Trinity --seqType fq --max_memory 2G --left reads.left.fq.gz,reads2.left.fq.gz --right reads.right.fq.gz,reads2.right.fq.gz --SS_lib_type RF --CPU 4
# started 11:46pm => 11:48pm, done.
exit
cd trinity_out_dir
less Trinity.fasta
>TR1|c0_g1_i1 len=281 path=[273:0-146 274:147-280] [-1, 273, 274, -2]
GCCAGTAGAAATGTGGACATGATAAGCCATCGTGTGGCCAAACTAGAGGAGACAAGGAAC
GCTTTTCATCCTCTGTTTTGGAGCCAGGCCATGTCAGTAGCTTTCAGTGGAAAGTCTGAG
GGGACATTTGACTGTCCATGGCTGTAGAGCAGGCACACTGTCCAGGCCGCCTAACTGTTT
GACCAGCACTAATGAAATGTCAGTGTCCTGCACTCACTGTCTGCATGTTGTTCAAATGAT
TTTCTGCATGGTGCTTTGACTTTGGCTGTCCCATGACCCAG
>TR1|c2_g1_i1 len=518 path=[565:0-25 566:26-40 572:41-109 571:110-255 569:256-279 570:280-517] [-1, 565, 566, 572, 571, 569, 570, -2]
CCAGTATGAGTGCTGGGTGTGTGTGTGTTGTGTGTTACCTGTGCATTTGTGTATTATGTG
TGTGCAGGAGAGGAGGTGAGGGCATGCATGTGCATGGGTGTGTGCATGTTGCATGTCTGT
GTGGGTGTGGGTGTGGTGGGGTACTATGGCCTGGAATGGTGATTCAGCCAGCTCAGTGCA
CTTCCCTGTGGTGACTTTTTAGAAGTGTGCAAGTGAGTAGGAGAAGGAAGTGCAAGATGG
CAGCACAGTGTGTTTGATTAACAGTAACACTTTAACTTGTATGATCACTTTTTCTCAGGT
GCTCTGAGTCAGGTGTGGGGCTGACATCATCACTTTCTAGCCAGGTCTCCCTCACAGTAT
CCTTAGAATTTCAGAACTTTGAGGTGTCACAAAGTATGAGCTAAGAGCTAGACAGATTTT
TTTCCTTTTCCAGCGTAATGATGGTTGTCTTAACCAAAACTGGGGGGGGGGGGGATTTTG
TTGTACCCCCTGGTGGTCTTCATTTGAGTGATTTTGAT
>TR1|c3_g1_i1 len=360 path=[495:0-57 501:58-225 487:226-249 500:250-323 498:324-359] [-1, 495, 501, 487, 500, 498, -2]
AAGTGAGCCGGCATTTCCATCAGGTACCTGTGGCTGGTGGCTCCCTCCACGGGGCTGGCT
ATGTAGCTCCCATATGTCCCTTAGAGAGTCTGTCATCCTCTTTACTTTGTCACTAACCCC
TTGTCTTAACCAAGCATCATGTGGGCAAAGATGCAGTTTTCCTTTATTAGATGGCCTGGG
TCTAGATACGCTGGTGGTGGACTTGCCTCACAGGGTTCAGAGTGCTCAGGGAGCTTCCTA
Trinity.fasta


# TO DO: recheck doc for meaning of the fields ??????????????
# see in http://trinityrnaseq.github.io/index.html, 'Output of Trinity' section.
# now run following to 
Obtain basic stats for the number of genes and isoforms and contiguity of the assembly by running:

% $TRINITY_HOME/util/TrinityStats.pl trinity_out_dir/Trinity.fasta

# so,
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly
ls -al
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0
/util/opt/trinity/2.0/gcc/4.8/util/TrinityStats.pl trinity_out_dir/Trinity.fasta
################################
## Counts of transcripts, etc.
################################
Total trinity 'genes':	67
Total trinity transcripts:	94
Percent GC: 49.44

########################################
Stats based on ALL transcript contigs:
########################################

	Contig N10: 8543
	Contig N20: 8062
	Contig N30: 7195
	Contig N40: 5534
	Contig N50: 3918

	Median contig length: 496.5
	Average contig: 1666.59
	Total assembled bases: 156659


#####################################################
## Stats based on ONLY LONGEST ISOFORM per 'GENE':
#####################################################

	Contig N10: 8757
	Contig N20: 7195
	Contig N30: 5905
	Contig N40: 5399
	Contig N50: 3745

	Median contig length: 378
	Average contig: 1057.79
	Total assembled bases: 70872
# apparently http://trinityrnaseq.github.io/index.html, 'Output of Trinity' section showing results for different input data ???????????????????



[pterry@c0125.crane test_Trinity_Assembly]$ 




09/12/15:
# perhaps next, from runMe.sh, try 'use RSEM to estimate read abundance', run from /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly
# see ref: http://trinityrnaseq.github.io/analysis/abundance_estimation.html
# note: 1st 'note', Q: what is 'preparation of ref', perhaps just align all the reads to the ref ????????????????????
# ... subsequently run 'align_and_estimate_abundance.pl' on 'on each of your sets of reads in parallel to obtain sample-specific abundance estimates' ???????
# for 95C1-3,T1-3, would their be 2 runs or 6 runs ?????????????????????
# a ***guess***, cat biol reps, then run 'align_and_estimate_abundance.pl' on each of these ?????????????????????????
# appears runMe.sh example, just cat'd all the reads in one file (actually 2, left & right) ???????????????????????????????
# looking thru 'align_and_estimate_abundance.pl'
# Alignment output (bam) section
# The alignment step generates the file **bowtie.bam**, which is then fed directly into either RSEM or eXpress. Note, the alignment step also generates a **bowtie.csorted.bam** file, which is a coordinate-sorted bam file that can be used for visualization using IGV
# perhaps split into 2 steps, see what outputs are ?????????????
# RSEM output
# The RSEM computation generates two primary output files containing the abundance estimation information:
RSEM.isoforms.results  : EM read counts per Trinity transcript
RSEM.genes.results     : EM read counts on a per-Trinity-component (aka... gene) basis, 'gene' used loosely here.
# The output for the isoforms file looks like so:
...
# and the genes file provides expression results on a per-Trinity component basis:
...
# 


09/15/15:
ssh -Y pterry@crane.unl.edu
# Rrq096mN
#cd /work/amundsen/pterry/Trin20Tut/test_Trinity_Assembly
# srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
cd /util/opt/trinity/2.0/gcc/4.8/sample_data
ls -al
cd test_full_edgeR_pipeline
ls -al
cd rnaseq_reads
ls -al
cd /work/amundsen/pterry/Trin20Tut
srun --pty $SHELL
cp -r /util/opt/trinity/2.0/gcc/4.8/sample_data/test_full_edgeR_pipeline .
ls -al
cd test_full_edgeR_pipeline/rnaseq_reads
pwd
ls -al
exit
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
## /util/opt/trinity/2.0/gcc/4.8/Trinity --seqType fq --max_memory 2G --left reads.left.fq.gz,reads2.left.fq.gz --right reads.right.fq.gz,reads2.right.fq.gz --SS_lib_type RF --CPU 4

module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
pwd
ls -al
/util/opt/trinity/2.0/gcc/4.8/Trinity --seqType fq --max_memory 2G --left Sp_ds.10k.left.fq.gz,Sp_hs.10k.left.fq.gz,Sp_log.10k.left.fq.gz,Sp_plat.10k.left.fq.gz --right Sp_ds.10k.right.fq.gz,Sp_hs.10k.right.fq.gz,Sp_log.10k.right.fq.gz,Sp_plat.10k.right.fq.gz --SS_lib_type RF --CPU 4
# 11:04pm => 11:09pm.
exit
pwd
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
ls -al
cd trinity_out_dir
ls -al
less Trinity.fasta
>TR1|c0_g1_i1 len=783 path=[761:0-782] [-1, 761, -2]
ACCAAGACGAAATGATTCGTGCTGGTCGTCTTTCTCACCGCTACAAGGGTATTGGTGAGT
GTTTCAAGCGTACTGCTGCTGAAGAAGGTGTTATTTCCCTTTGGAGAGGTAATACCGCTA
ATGTCTTACGTTACTTCCCCACTCAGGCCTTGAACTTTGCTTTCAAGGATAAATTTAAGA
AGATGTTTGGTTACAAGAAGGAAAGGGATGGTTATGCTAAATGGTTTGCCGGTAATTTAG
CCTCTGGTGGTGCTGCTGGTGCCGCTTCCCTTTTGTTTGTCTACTCTCTTGACTATGCCC
GTACCCGTCTTGCCAATGATGCCAAATCCGCCAAGAAGGGAGGTGAACGTCAATTTAACG
GTTTGGTCGATGTCTATCGTAAGACCTATCGTTCTGATGGTTTACGTGGTTTGTACCGTG
GTTTTGGCCCTTCTGTTGTCGGTATTGTTGTTTACCGTGGTTTGTACTTCGGTATGTATG
ATACCTTGAAACCCGTCGTTTTGGTTGGTCCTTTGGAGGGCAACTTCTTGGCCTCCTTCC
TTCTCGGTTGGGCCGTTACCACTGGTTCTGGTGTTGCTTCTTATCCTCTTGATACCATCC
GTCGTCGTATGATGATGACATCTGGTGAAGCCGTCAAGTATAGCTCCTCCTTTGAATGTG
GTCGTCAAATCCTCGCCAAGGAAGGTGCTCGTTCTTTCTTCAAGGGTGCCGGTGCCAACA
TTCTTCGTGGTGTTGCTGGAGCTGGTGTCCTTTCCATTTATGACCAAGTTCAACTTTTGA
TGT
>TR1|c1_g1_i1 len=299 path=[277:0-298] [-1, 277, -2]
GTTTTCCTTTCATATCATCATTTTCTTGTTGTTGTGCTAAGGCTTCATCTCTTTATCTCT
TTTTTTTTCGTACATTTGAACTTATCTATTTACCAGAATTAGTGAAAAATGGCTACTTCA
TCTGCTGCCGCTGCTGCTAGCACCCCCGTGAATGCAAACACCATCACTGAAACAAAGAAC
TCTACTTTCTTCTTTGATTTCATGATGGGTGGTGTTTCTGCTGCTGTATCTAAAACCGCT
GCCGCTCCCATTGAGCGTGTCAAGCTTCTCATTCAAAACCAAGACGAAATGATTCGTGC
>TR1|c2_g1_i1 len=322 path=[300:0-321] [-1, 300, -2]
TTTTGATGTTCGGCAAGAAGTTCTAATTGCCCTAATGTCTTTTCTTTTCAATTGCTTTGC
Trinity.fasta 
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0
/util/opt/trinity/2.0/gcc/4.8/util/TrinityStats.pl trinity_out_dir/Trinity.fasta

# think next, do from http://trinityrnaseq.github.io/analysis/abundance_estimation.html
# p-1, two steps, 

09/16/15:
# 1. Just prepare the reference for alignment and abundance estimation

ssh -Y pterry@crane.unl.edu
# Rrq096mN
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

/util/opt/trinity/2.0/gcc/4.8/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --est_method RSEM --aln_method bowtie --trinity_mode --prep_reference

exit
# look for 'prep reference'
ls -al
cd trinity_out_dir
ls -al
# ran from 'rnaseq_reads dir, but bunch of stuff in trinity_out_dir dir. ?????????????????????????
Only prepping reference. Stopping now.
# so looks like may have completed ok.

# 2. Run the alignment and abundance estimation (assumes reference has already been prepped, errors-out if prepped reference not located.)

# Q: will there be an issue with locating needed files for alignment and abundance estimation ??????????????????

ssh -Y pterry@crane.unl.edu
# Rrq096mN
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

/util/opt/trinity/2.0/gcc/4.8/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --seqType fq --left Sp_ds.10k.left.fq --right Sp_ds.10k.right.fq --est_method RSEM --aln_method bowtie --trinity_mode

exit
ls -al
cd trinity_out_dir
ls -al

# ok, find a 
-rw-r--r-- 1 pterry amundsen   29693 Sep 16 12:12 RSEM.isoforms.results
file in /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads dir.
# Q: if have 3 more sets of reads to run (http://trinityrnaseq.github.io/analysis/abundance_estimation.html, 'Align Reads and Estimate Abundance' section, what do you do for RSEM.isoforms.results & preceding files, rename, ?????????????????????????
less RSEM.isoforms.results
# Q: how to proceed ?????????????
# note: In http://trinityrnaseq.github.io/analysis/diff_expression_analysis.html, section 'Generating Expression Value Matrices', we see multiple sampleA.RSEM.isoform.results files, so here will similarly rename RSEM.isoforms.results file, run other 3 sets of read files with align_and_estimate_abundance.pl. But I note several files created in this align_and_estimate_abundance.pl step, hopefully, only changing name of RSEM.isoforms.results will not be a problem ??????????????????

# pwd => /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
# or perhaps cp RSEM.isoforms.results to ds.RSEM.isoforms.results, and RSEM.genes.results to ds.RSEM.genes.results, don't change anything else before running next set read files with align_and_estimate_abundance.pl ??????????????????????????
cp RSEM.isoforms.results ds.RSEM.isoforms.results
cp RSEM.genes.results ds.RSEM.genes.results

# next, run 'hs' sample.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

/util/opt/trinity/2.0/gcc/4.8/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --seqType fq --left Sp_hs.10k.left.fq --right Sp_hs.10k.right.fq --est_method RSEM --aln_method bowtie --trinity_mode
[pterry@c0406.crane rnaseq_reads]$ /util/opt/trinity/2.0/gcc/4.8/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --seqType fq --left Sp_hs.10k.left.fq --right Sp_hs.10k.right.fq --est_method RSEM --aln_method bowtie --trinity_mode
CMD: touch RSEM.isoforms.results.ok
# so ***did not run*** ????????????????????????
# so try removing some files ???????????????????????????????
rm -rf RSEM.stat
rm bowtie.bam
rm bowtie.bam.ok
rm RSEM.genes.results
rm RSEM.isoforms.results
rm RSEM.isoforms.results.ok
exit
ls -al
# Q: what to think of this removal step ???????????**********????????????

cp RSEM.isoforms.results hs.RSEM.isoforms.results
cp RSEM.genes.results hs.RSEM.genes.results

09/17/15:
# next, run 'log' sample.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
rm -rf RSEM.stat
rm bowtie.bam
rm bowtie.bam.ok
rm RSEM.genes.results
rm RSEM.isoforms.results
rm RSEM.isoforms.results.ok
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

/util/opt/trinity/2.0/gcc/4.8/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --seqType fq --left Sp_log.10k.left.fq --right Sp_log.10k.right.fq --est_method RSEM --aln_method bowtie --trinity_mode
exit
ls -al
cp RSEM.isoforms.results log.RSEM.isoforms.results
cp RSEM.genes.results log.RSEM.genes.results

# next, run 'plat' sample.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
rm -rf RSEM.stat
rm bowtie.bam
rm bowtie.bam.ok
rm RSEM.genes.results
rm RSEM.isoforms.results
rm RSEM.isoforms.results.ok
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

/util/opt/trinity/2.0/gcc/4.8/util/align_and_estimate_abundance.pl --transcripts trinity_out_dir/Trinity.fasta --seqType fq --left Sp_plat.10k.left.fq --right Sp_plat.10k.right.fq --est_method RSEM --aln_method bowtie --trinity_mode
ls -al
cp RSEM.isoforms.results plat.RSEM.isoforms.results
cp RSEM.genes.results plat.RSEM.genes.results
ls -al

# Q: section 'How many expressed genes or transcripts do I have?'
# Q: Would like to understand how useful this section might be ??????????

09/18/15:
# now from 'http://trinityrnaseq.github.io/analysis/diff_expression_analysis.html'
p-1, section,
'Generating Expression Value Matrices'

ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
ls -al
srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

/util/opt/trinity/2.0/gcc/4.8/util/abundance_estimates_to_matrix.pl --est_method RSEM  --out_prefix Trinity_trans ds.RSEM.isoforms.results hs.RSEM.isoforms.results log.RSEM.isoforms.results plat.RSEM.isoforms.results
exit
ls -al
# result: got one expected result, not the other ???????????????
# that is, ERRORs after got
Trinity_trans.counts.matrix  : matrix of fragment raw counts
-rw-r--r-- 1 pterry amundsen   16684 Sep 18 15:31 Trinity_trans.counts.matrix

# i.e., did not get the following expected file, i.e., got '0' bytes in
Trinity_trans.TMM.fpkm.matrix : TMM-normalized FPKM expression values
# p-2, reading along, says using code in edgeR, but ***NOT*** LOADING edgeR till next section, 'Identifying Differentially Expressed Transcripts' ????****?????

# Q: when Adam returns next week, try troubleshoot above error ????***????????

09/22/15:
p-2 'Identifying Differentially Expressed Transcripts' section.
ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
ls -al
less Trinity_trans.counts.matrix
        ds.RSEM hs.RSEM log.RSEM        plat.RSEM
TR24|c0_g1_i1   3.00    19.00   0.00    0.00
TR108|c0_g1_i1  2.00    0.00    1.00    2.00
TR30|c0_g1_i1   1.00    0.00    0.00    1.00
TR197|c0_g1_i1  2.00    0.00    0.00    4.00
Trinity_trans.counts.matrix 

srun --pty --ntasks-per-node=4 --mem 4gb $SHELL
module load R/3.2
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
R   # R ver 3.2.1
source("http://bioconductor.org/biocLite.R")
# Q: ck Adam: 'create personal library ...(y/n)'  # try 'y'

> source("http://bioconductor.org/biocLite.R")
Warning in install.packages("BiocInstaller", repos = a["BioCsoft", "URL"]) :
  'lib = "/util/opt/R/3.2.1/gcc/4.4.7/lib64/R/library"' is not writable
Would you like to use a personal library instead?  (y/n) y
Would you like to create a personal library
~/R/x86_64-unknown-linux-gnu-library/3.2
to install packages into?  (y/n) y
Error in install.packages("BiocInstaller", repos = a["BioCsoft", "URL"]) : 
  unable to create ‘~/R/x86_64-unknown-linux-gnu-library/3.2’
In addition: Warning message:
In dir.create(userdir, recursive = TRUE) :
  cannot create dir '/home/amundsen/pterry/R/x86_64-unknown-linux-gnu-library', reason 'No such file or directory'
> q()
Save workspace image? [y/n/c]: n
[pterry@c0312.crane rnaseq_reads]$ exit
exit
[pterry@login.crane rnaseq_reads]$ 
# Q: how to proceed ????????????????????????????????????????
# no dir '/home/amundsen/pterry', perhaps I should have created ‘~/R/x86_64-unknown-linux-gnu-library/3.2’, then tried:
source("http://bioconductor.org/biocLite.R")
# Q: ????????????????????????????????????????????????????

biocLite('edgeR')
biocLite('ctc')
biocLite('Biobase')
install.packages('gplots’)
install.packages(‘ape’)

10/07/15:
# After check wi Adam at HCC, to retry:

i) abundance_estimates_to_matrix.pl  ## line 1138 above. probably 
module load R/3.2 1st ??????????????
# perhaps, for now, don't try fix 09/18/15, ''Generating Expression Value Matrices', the failure to get 'Trinity_trans.TMM.fpkm.matrix' output file. Since got 'Trinity_trans.counts.matrix', just proceed to 'Identifying Differentially Expressed Transcripts' section of 'http://trinityrnaseq.github.io/analysis/diff_expression_analysis.html'

ii) Identifying Differentially Expressed Transcripts (must load bioconductor packages from **LOGIN** node) (Adam)

ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
ls -al
module load R/3.2
R  # R ver 3.2.1
source("http://bioconductor.org/biocLite.R")
biocLite('edgeR')  # did all here
biocLite('ctc')  ## did none here
biocLite('Biobase')  ## did none here
install.packages("gplots")
# needed double quotes, when trying to select download site, mouse could not manipulate selection of site, clicked on Berlin, bit later, appears to have done the download ?????????????????????
install.packages("ape")  ## did not ask for dnload site, apparently just did it ?????????????????????
q()
logout

STOPPED

p-3
# 'Identifying DE features: With biological replicates (PREFERRED)'
# **prepare** 'samples_described.txt' file (Q: separator for columns??), scp to '/work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads' dir on crane.

cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing
## TO fix the file, done
scp samples_described.txt pterry@crane.unl.edu:/work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

ssh -Y pterry@crane.unl.edu
# Rrq096mN
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads
ls -al

srun --pty --ntasks-per-node=4 --mem 4gb $SHELL

module load compiler/gcc/4.8
module load bowtie/1.1
module load samtools/1.2
module load trinity/2.0

module load R/3.2
cd /work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads

# **to fix**: next command wi correct dir on crane
/util/opt/trinity/2.0/gcc/4.8/Analysis/DifferentialExpression/run_DE_analysis.pl --matrix counts.matrix --method edgeR --samples_file samples_described.txt

[pterry@c1923.crane rnaseq_reads]$ /util/opt/trinity/2.0/gcc/4.8/Analysis/DifferentialExpression/run_DE_analysis.pl --matrix counts.matrix --method edgeR --samples_file samples_described.txt
Error, cannot open file counts.matrix at /util/opt/trinity/2.0/gcc/4.8/Analysis/DifferentialExpression/run_DE_analysis.pl line 312.
[pterry@c1923.crane rnaseq_reads]$ 
# perhaps for '--matrix' parameter, change argument to 'Trinity_trans.counts.matrix'
# to try
/util/opt/trinity/2.0/gcc/4.8/Analysis/DifferentialExpression/run_DE_analysis.pl --matrix Trinity_trans.counts.matrix --method edgeR --samples_file samples_described.txt

# apparently ran ????????
exit
ls -al
# see 1 new dir,
drwxr-xr-x 2 pterry amundsen    4096 Oct  7 12:30 edgeR.223987.dir
# bunch files here
[pterry@login.crane rnaseq_reads]$ cd edgeR.223987.dir/
[pterry@login.crane edgeR.223987.dir]$ ls -al
total 244
drwxr-xr-x 2 pterry amundsen  4096 Oct  7 12:30 .
drwxr-xr-x 5 pterry amundsen  4096 Oct  7 12:30 ..
-rw-r--r-- 1 pterry amundsen   973 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_hs_rep1.ds_rep1.vs.hs_rep1.EdgeR.Rscript
-rw-r--r-- 1 pterry amundsen 23081 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_hs_rep1.edgeR.DE_results
-rw-r--r-- 1 pterry amundsen 10420 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_hs_rep1.edgeR.DE_results.MA_n_Volcano.pdf
-rw-r--r-- 1 pterry amundsen   976 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_log_rep1.ds_rep1.vs.log_rep1.EdgeR.Rscript
-rw-r--r-- 1 pterry amundsen 23903 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_log_rep1.edgeR.DE_results
-rw-r--r-- 1 pterry amundsen 10468 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_log_rep1.edgeR.DE_results.MA_n_Volcano.pdf
-rw-r--r-- 1 pterry amundsen   979 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_plat_rep1.ds_rep1.vs.plat_rep1.EdgeR.Rscript
-rw-r--r-- 1 pterry amundsen 22223 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_plat_rep1.edgeR.DE_results
-rw-r--r-- 1 pterry amundsen  9626 Oct  7 12:30 Trinity_trans.counts.matrix.ds_rep1_vs_plat_rep1.edgeR.DE_results.MA_n_Volcano.pdf
-rw-r--r-- 1 pterry amundsen 20468 Oct  7 12:30 Trinity_trans.counts.matrix.hs_rep1_vs_log_rep1.edgeR.DE_results
-rw-r--r-- 1 pterry amundsen 10382 Oct  7 12:30 Trinity_trans.counts.matrix.hs_rep1_vs_log_rep1.edgeR.DE_results.MA_n_Volcano.pdf
-rw-r--r-- 1 pterry amundsen   976 Oct  7 12:30 Trinity_trans.counts.matrix.hs_rep1_vs_log_rep1.hs_rep1.vs.log_rep1.EdgeR.Rscript
-rw-r--r-- 1 pterry amundsen 22619 Oct  7 12:30 Trinity_trans.counts.matrix.hs_rep1_vs_plat_rep1.edgeR.DE_results
-rw-r--r-- 1 pterry amundsen 10543 Oct  7 12:30 Trinity_trans.counts.matrix.hs_rep1_vs_plat_rep1.edgeR.DE_results.MA_n_Volcano.pdf
-rw-r--r-- 1 pterry amundsen   979 Oct  7 12:30 Trinity_trans.counts.matrix.hs_rep1_vs_plat_rep1.hs_rep1.vs.plat_rep1.EdgeR.Rscript
-rw-r--r-- 1 pterry amundsen 23098 Oct  7 12:30 Trinity_trans.counts.matrix.log_rep1_vs_plat_rep1.edgeR.DE_results
-rw-r--r-- 1 pterry amundsen 10107 Oct  7 12:30 Trinity_trans.counts.matrix.log_rep1_vs_plat_rep1.edgeR.DE_results.MA_n_Volcano.pdf
-rw-r--r-- 1 pterry amundsen   982 Oct  7 12:30 Trinity_trans.counts.matrix.log_rep1_vs_plat_rep1.log_rep1.vs.plat_rep1.EdgeR.Rscript
[pterry@login.crane edgeR.223987.dir]$ 

# next, perhaps do 'less' for the 6 'DE_results' files ????
# seeing some small pvals, 'topTags' from edgeR ????????????
# **to do:** scp the 6 'pdf' files to 'pro', display in 'adobe reader'

cd /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/testing
#scp pterry@tusker.unl.edu:/work/amundsen/pterry/brachy_dis/blastn_out/blastn_out6_AstolvsBrachydis .

scp pterry@crane.unl.edu:/work/amundsen/pterry/Trin20Tut/test_full_edgeR_pipeline/rnaseq_reads/edgeR.223987.dir/Trinity_trans.counts.matrix.ds_rep1_vs_hs_rep1.edgeR.DE_results.MA_n_Volcano.pdf .

# displayed in adobe reader. Still some Q's ?????????????????

10/08/15:
# attempt to do **trinotate**. and GOseq.
tar xzvf Trinotate-2.0.2.tar.gz
# ok, should be able to use to find where things located when try use on crane.
# /Users/bterry/macbookpro2015/keenanres15/trintoGSEA/trinotate2.0.2/Trinotate-2.0.2

10/10/15:
# Summary of situation as best understand now, check Keenan on what s/w need, then proceed (will need Adam involvement for using 'crane'.

# Trinity
# diff'l_expn_analysis.html
p-4 of 8
# dir. edgeR.223987.dir has results:
--has results & volcano plots for 6 combinations of 4 biol'l samples.
# Q: p-5 of 8, is GO_seq using results from edgeR.223987.dir ???????

# New trinotate doc (last couple weeks)
# trinotate.github.io
p-1
# Q: TrinotateWeb => (Trinity/RSEM/Bioconductor)  => Q: relation to edgeR.223987.dir above ???????????????
p-2
S/W:
trinotate
Trinity (Transdecoder, DE with RSEM, Bioconductor)
sqlite
NCBI Blast+
HMMER/PFAM
p-3
Files needed:
Trinity.fasta
Trinity.fasta.transdecoder.pep (Q: Req'd ?????????????)
p-6
syntax for commands
Trinotate Pre-gen'd sqlite db
Loading transcripts, coding regions ???????
p-7
Load blast homologies ????????
TRinotate: output annotation rept.
--trinotate-annotation-report.xls ????***********???????????
p-8
sample data ?????

.../wiki/Running-GOSeq 
p-1
--blastogo ????????????
Extract GO assignments per gene
GO DAG ?????????????????
--trinolate.xls ?????????*********?????????
Run GOSeq
p-2
factor_labeling.txt
GO-seq on DE features
--DE analysis using a trinity assembly
p-7of9
GO enrichment analysis on DE genes [GOAL, me] ????????
CIRCULAR doc.: what is a direct path to what want ?????????????







# check result in curr dir.









##### Done Running Trinity #####


cd /work/amundsen/pterry/Trin20Tut/trinity_out_dir
ls -al





# TRY COME UP WITH A PLAN TO PROCEED ?????????




# TO DO: send this output to Trinity support site.


# --JM, --CPU ????????????????????????


exit







# **TO DO* note: may also try run thru website:
https://galaxy.ncgas-trinity.indiana.edu/root
 

For trimmed reads, see line 327 in /Users/bterry/planets/Sitalica_041515.txt


